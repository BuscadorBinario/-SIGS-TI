<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SIGS-TI - Sistema Integral de Gestión de Servicios TI</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
    <!-- Fondo animado con partículas -->
    <canvas id="particles"></canvas>

    <!-- Encabezado -->
    <header class="header">
        <div class="header-left">
            <i class="fas fa-server logo-icon"></i>
            <h1>SIGS-TI</h1>
            <span class="version">v2.5.1</span>
        </div>
        <div class="header-center">
            <span id="currentDate"></span>
        </div>
        <div class="header-right">
            <button id="themeToggle" class="theme-btn">
                <i class="fas fa-moon"></i>
            </button>
            <div class="user-info">
                <i class="fas fa-user-circle"></i>
                <span>Admin TI</span>
            </div>
        </div>
    </header>

    <!-- Menú de navegación -->
    <nav class="sidebar">
        <ul class="nav-menu">
            <li data-section="dashboard" class="active">
                <i class="fas fa-th-large"></i>
                <span>Dashboard</span>
            </li>
            <li data-section="planificacion">
                <i class="fas fa-clipboard-list"></i>
                <span>Planificación</span>
            </li>
            <li data-section="diseno">
                <i class="fas fa-drafting-compass"></i>
                <span>Diseño</span>
            </li>
            <li data-section="transicion">
                <i class="fas fa-exchange-alt"></i>
                <span>Transición</span>
            </li>
            <li data-section="operacion">
                <i class="fas fa-cogs"></i>
                <span>Operación</span>
            </li>
            <li data-section="mejora">
                <i class="fas fa-chart-line"></i>
                <span>Mejora Continua</span>
            </li>
            <li data-section="riesgos">
                <i class="fas fa-exclamation-triangle"></i>
                <span>Riesgos</span>
            </li>
            <li data-section="seguridad">
                <i class="fas fa-shield-alt"></i>
                <span>Seguridad</span>
            </li>
            <li data-section="control">
                <i class="fas fa-sliders-h"></i>
                <span>Centro Control</span>
            </li>
        </ul>
    </nav>

    <!-- Contenido principal -->
    <main class="main-content">
        
        <!-- DASHBOARD GENERAL -->
        <section id="dashboard" class="content-section active">
            <h2 class="section-title">
                <i class="fas fa-th-large"></i> Dashboard General
            </h2>
            
            <div class="stats-grid">
                <div class="stat-card">
                    <div class="stat-icon blue">
                        <i class="fas fa-ticket-alt"></i>
                    </div>
                    <div class="stat-content">
                        <h3 id="totalTickets">0</h3>
                        <p>Tickets Totales</p>
                    </div>
                </div>
                <div class="stat-card">
                    <div class="stat-icon green">
                        <i class="fas fa-check-circle"></i>
                    </div>
                    <div class="stat-content">
                        <h3 id="ticketsCerrados">0</h3>
                        <p>Tickets Cerrados</p>
                    </div>
                </div>
                <div class="stat-card">
                    <div class="stat-icon orange">
                        <i class="fas fa-clock"></i>
                    </div>
                    <div class="stat-content">
                        <h3 id="tiempoPromedio">0h</h3>
                        <p>Tiempo Promedio</p>
                    </div>
                </div>
                <div class="stat-card">
                    <div class="stat-icon purple">
                        <i class="fas fa-smile"></i>
                    </div>
                    <div class="stat-content">
                        <h3 id="satisfaccionGlobal">0%</h3>
                        <p>Satisfacción</p>
                    </div>
                </div>
            </div>

            <div class="dashboard-grid">
                <div class="dashboard-card">
                    <h3><i class="fas fa-chart-bar"></i> Rendimiento por Fase</h3>
                    <canvas id="chartFases"></canvas>
                </div>
                <div class="dashboard-card">
                    <h3><i class="fas fa-pie-chart"></i> Distribución de Servicios</h3>
                    <canvas id="chartServicios"></canvas>
                </div>
                <div class="dashboard-card">
                    <h3><i class="fas fa-chart-line"></i> Tendencia Mensual</h3>
                    <canvas id="chartTendencia"></canvas>
                </div>
                <div class="dashboard-card">
                    <h3><i class="fas fa-bullseye"></i> Cumplimiento SLA</h3>
                    <div class="gauge-container">
                        <canvas id="gaugeSLA"></canvas>
                    </div>
                </div>
            </div>

            <div class="progress-bar-global">
                <h3>Cumplimiento Global del Sistema</h3>
                <div class="progress-wrapper">
                    <div class="progress-fill" id="progressGlobal"></div>
                    <span class="progress-text" id="progressGlobalText">0%</span>
                </div>
            </div>
        </section>

        <!-- PLANIFICACIÓN -->
        <section id="planificacion" class="content-section">
            <h2 class="section-title">
                <i class="fas fa-clipboard-list"></i> Fase de Planificación Estratégica
            </h2>

            <div class="phase-grid">
                <div class="phase-card">
                    <h3><i class="fas fa-bullseye"></i> Registro de Objetivos</h3>
                    <form class="form-planificacion">
                        <input type="text" placeholder="Objetivo estratégico" class="input-field">
                        <input type="text" placeholder="Alcance del proyecto" class="input-field">
                        <input type="number" placeholder="Presupuesto ($)" class="input-field">
                        <button type="button" class="btn-primary" onclick="generarPlan()">
                            <i class="fas fa-magic"></i> Generar Plan
                        </button>
                    </form>
                </div>

                <div class="phase-card">
                    <h3><i class="fas fa-chart-pie"></i> Progreso de Planificación</h3>
                    <canvas id="chartPlanificacion"></canvas>
                    <div class="kpi-list">
                        <div class="kpi-item">
                            <span>Avance:</span>
                            <strong id="avancePlan">0%</strong>
                        </div>
                        <div class="kpi-item">
                            <span>Presupuesto:</span>
                            <strong id="presupuestoPlan">$0</strong>
                        </div>
                        <div class="kpi-item">
                            <span>Desviación:</span>
                            <strong id="desviacionPlan">0%</strong>
                        </div>
                    </div>
                </div>
            </div>

            <div class="timeline-container">
                <h3><i class="fas fa-calendar-alt"></i> Cronograma Dinámico</h3>
                <div class="timeline" id="timeline"></div>
            </div>

            <div class="table-container">
                <h3><i class="fas fa-users"></i> Responsables y Tareas</h3>
                <table class="data-table">
                    <thead>
                        <tr>
                            <th>Responsable</th>
                            <th>Tarea</th>
                            <th>Estado</th>
                            <th>Progreso</th>
                        </tr>
                    </thead>
                    <tbody id="tablaPlanificacion"></tbody>
                </table>
            </div>
        </section>

        <!-- DISEÑO DEL SERVICIO -->
        <section id="diseno" class="content-section">
            <h2 class="section-title">
                <i class="fas fa-drafting-compass"></i> Diseño del Servicio
            </h2>

            <div class="services-catalog">
                <h3><i class="fas fa-th"></i> Catálogo de Servicios TI</h3>
                <div class="catalog-grid" id="catalogoServicios"></div>
            </div>

            <div class="phase-grid">
                <div class="phase-card">
                    <h3><i class="fas fa-file-contract"></i> Definición de SLA</h3>
                    <div class="sla-editor">
                        <div class="sla-item">
                            <label>Disponibilidad Mínima:</label>
                            <input type="number" id="slaDisponibilidad" value="99.5" step="0.1">
                            <span>%</span>
                        </div>
                        <div class="sla-item">
                            <label>Tiempo de Respuesta:</label>
                            <input type="number" id="slaTiempoRespuesta" value="15">
                            <span>min</span>
                        </div>
                        <div class="sla-item">
                            <label>Tiempo de Resolución:</label>
                            <input type="number" id="slaTiempoResolucion" value="4">
                            <span>h</span>
                        </div>
                    </div>
                </div>

                <div class="phase-card">
                    <h3><i class="fas fa-star"></i> Madurez del Diseño</h3>
                    <canvas id="chartMadurez"></canvas>
                </div>
            </div>

            <div class="table-container">
                <h3><i class="fas fa-exclamation-circle"></i> Riesgos del Diseño</h3>
                <table class="data-table">
                    <thead>
                        <tr>
                            <th>Riesgo</th>
                            <th>Impacto</th>
                            <th>Probabilidad</th>
                            <th>Nivel</th>
                        </tr>
                    </thead>
                    <tbody id="tablaRiesgosDiseno"></tbody>
                </table>
            </div>
        </section>

        <!-- TRANSICIÓN -->
        <section id="transicion" class="content-section">
            <h2 class="section-title">
                <i class="fas fa-exchange-alt"></i> Transición del Servicio
            </h2>

            <div class="deployment-status">
                <h3><i class="fas fa-rocket"></i> Estado del Despliegue</h3>
                <div class="deployment-progress">
                    <div class="deployment-bar" id="deploymentBar"></div>
                    <span id="deploymentText">Iniciando...</span>
                </div>
                <div class="status-alerts" id="statusAlerts"></div>
            </div>

            <div class="phase-grid">
                <div class="phase-card">
                    <h3><i class="fas fa-code-branch"></i> Registro de Cambios</h3>
                    <div class="changes-log" id="changesLog"></div>
                </div>

                <div class="phase-card">
                    <h3><i class="fas fa-vial"></i> Pruebas Piloto</h3>
                    <canvas id="chartPruebas"></canvas>
                    <div class="test-results" id="testResults"></div>
                </div>
            </div>

            <div class="table-container">
                <h3><i class="fas fa-list-ol"></i> Versiones Desplegadas</h3>
                <table class="data-table">
                    <thead>
                        <tr>
                            <th>Versión</th>
                            <th>Fecha</th>
                            <th>Responsable</th>
                            <th>Estado</th>
                        </tr>
                    </thead>
                    <tbody id="tablaVersiones"></tbody>
                </table>
            </div>
        </section>

        <!-- OPERACIÓN -->
        <section id="operacion" class="content-section">
            <h2 class="section-title">
                <i class="fas fa-cogs"></i> Operación del Servicio
            </h2>

            <div class="traffic-lights">
                <div class="traffic-light" id="trafficLight">
                    <div class="light red"></div>
                    <div class="light yellow"></div>
                    <div class="light green active"></div>
                </div>
                <span id="trafficStatus">Rendimiento Óptimo</span>
            </div>

            <div class="stats-grid">
                <div class="stat-card">
                    <div class="stat-icon red">
                        <i class="fas fa-folder-open"></i>
                    </div>
                    <div class="stat-content">
                        <h3 id="ticketsAbiertos">0</h3>
                        <p>Tickets Abiertos</p>
                    </div>
                </div>
                <div class="stat-card">
                    <div class="stat-icon blue">
                        <i class="fas fa-spinner"></i>
                    </div>
                    <div class="stat-content">
                        <h3 id="ticketsProceso">0</h3>
                        <p>En Proceso</p>
                    </div>
                </div>
                <div class="stat-card">
                    <div class="stat-icon green">
                        <i class="fas fa-check-double"></i>
                    </div>
                    <div class="stat-content">
                        <h3 id="ticketsResueltos">0</h3>
                        <p>Resueltos Hoy</p>
                    </div>
                </div>
                <div class="stat-card">
                    <div class="stat-icon orange">
                        <i class="fas fa-hourglass-half"></i>
                    </div>
                    <div class="stat-content">
                        <h3 id="tiempoResolucion">0h</h3>
                        <p>Tiempo Resolución</p>
                    </div>
                </div>
            </div>

            <div class="phase-grid">
                <div class="phase-card wide">
                    <h3><i class="fas fa-chart-area"></i> Evolución de Tickets</h3>
                    <canvas id="chartTickets"></canvas>
                </div>
            </div>

            <div class="table-container">
                <h3><i class="fas fa-ticket-alt"></i> Sistema de Tickets e Incidencias</h3>
                <div class="filters">
                    <button class="filter-btn active" data-filter="all">Todos</button>
                    <button class="filter-btn" data-filter="abierto">Abiertos</button>
                    <button class="filter-btn" data-filter="proceso">En Proceso</button>
                    <button class="filter-btn" data-filter="cerrado">Cerrados</button>
                </div>
                <table class="data-table">
                    <thead>
                        <tr>
                            <th>ID</th>
                            <th>Título</th>
                            <th>Prioridad</th>
                            <th>Estado</th>
                            <th>Asignado</th>
                            <th>Fecha</th>
                        </tr>
                    </thead>
                    <tbody id="tablaTickets"></tbody>
                </table>
            </div>
        </section>

        <!-- MEJORA CONTINUA -->
        <section id="mejora" class="content-section">
            <h2 class="section-title">
                <i class="fas fa-chart-line"></i> Mejora Continua
            </h2>

            <div class="phase-grid">
                <div class="phase-card wide">
                    <h3><i class="fas fa-arrow-trend-up"></i> Tendencia de Mejora</h3>
                    <canvas id="chartMejora"></canvas>
                </div>
            </div>

            <div class="stats-grid">
                <div class="stat-card">
                    <div class="stat-icon purple">
                        <i class="fas fa-trophy"></i>
                    </div>
                    <div class="stat-content">
                        <h3 id="indiceMejora">0</h3>
                        <p>Índice de Mejora</p>
                    </div>
                </div>
                <div class="stat-card">
                    <div class="stat-icon green">
                        <i class="fas fa-star"></i>
                    </div>
                    <div class="stat-content">
                        <h3 id="satisfaccionMejora">0%</h3>
                        <p>Satisfacción Usuario</p>
                    </div>
                </div>
                <div class="stat-card">
                    <div class="stat-icon blue">
                        <i class="fas fa-bolt"></i>
                    </div>
                    <div class="stat-content">
                        <h3 id="desempenoMejora">0%</h3>
                        <p>Desempeño Global</p>
                    </div>
                </div>
                <div class="stat-card">
                    <div class="stat-icon orange">
                        <i class="fas fa-lightbulb"></i>
                    </div>
                    <div class="stat-content">
                        <h3 id="ideasImplementadas">0</h3>
                        <p>Ideas Implementadas</p>
                    </div>
                </div>
            </div>

            <div class="improvements-container">
                <h3><i class="fas fa-list-check"></i> Ideas y Sugerencias</h3>
                <button class="btn-primary" onclick="aplicarMejora()">
                    <i class="fas fa-magic"></i> Aplicar Mejora
                </button>
                <div class="improvements-list" id="listaIdeas"></div>
            </div>

            <div class="comparison-container">
                <h3><i class="fas fa-chart-column"></i> Comparativa Histórica</h3>
                <canvas id="chartHistorico"></canvas>
            </div>
        </section>

        <!-- RIESGOS -->
        <section id="riesgos" class="content-section">
            <h2 class="section-title">
                <i class="fas fa-exclamation-triangle"></i> Gestión de Riesgos TI
            </h2>

            <div class="risk-matrix-container">
                <h3><i class="fas fa-th"></i> Matriz de Calor de Riesgos</h3>
                <canvas id="riskHeatmap"></canvas>
            </div>

            <div class="stats-grid">
                <div class="stat-card">
                    <div class="stat-icon red">
                        <i class="fas fa-fire"></i>
                    </div>
                    <div class="stat-content">
                        <h3 id="riesgosAltos">0</h3>
                        <p>Riesgos Altos</p>
                    </div>
                </div>
                <div class="stat-card">
                    <div class="stat-icon orange">
                        <i class="fas fa-exclamation"></i>
                    </div>
                    <div class="stat-content">
                        <h3 id="riesgosMedios">0</h3>
                        <p>Riesgos Medios</p>
                    </div>
                </div>
                <div class="stat-card">
                    <div class="stat-icon green">
                        <i class="fas fa-check"></i>
                    </div>
                    <div class="stat-content">
                        <h3 id="riesgosBajos">0</h3>
                        <p>Riesgos Bajos</p>
                    </div>
                </div>
                <div class="stat-card">
                    <div class="stat-icon purple">
                        <i class="fas fa-shield"></i>
                    </div>
                    <div class="stat-content">
                        <h3 id="controles">0</h3>
                        <p>Controles Activos</p>
                    </div>
                </div>
            </div>

            <div class="table-container">
                <h3><i class="fas fa-list"></i> Registro de Riesgos</h3>
                <table class="data-table">
                    <thead>
                        <tr>
                            <th>ID</th>
                            <th>Descripción</th>
                            <th>Categoría</th>
                            <th>Impacto</th>
                            <th>Probabilidad</th>
                            <th>Nivel</th>
                        </tr>
                    </thead>
                    <tbody id="tablaRiesgos"></tbody>
                </table>
            </div>
        </section>

        <!-- SEGURIDAD -->
        <section id="seguridad" class="content-section">
            <h2 class="section-title">
                <i class="fas fa-shield-alt"></i> Panel de Seguridad (ISO 27001)
            </h2>

            <div class="stats-grid">
                <div class="stat-card">
                    <div class="stat-icon blue">
                        <i class="fas fa-lock"></i>
                    </div>
                    <div class="stat-content">
                        <h3 id="cumplimientoPoliticas">0%</h3>
                        <p>Cumplimiento Políticas</p>
                    </div>
                </div>
                <div class="stat-card">
                    <div class="stat-icon green">
                        <i class="fas fa-user-shield"></i>
                    </div>
                    <div class="stat-content">
                        <h3 id="controlesAcceso">0</h3>
                        <p>Controles de Acceso</p>
                    </div>
                </div>
                <div class="stat-card">
                    <div class="stat-icon orange">
                        <i class="fas fa-clipboard-check"></i>
                    </div>
                    <div class="stat-content">
                        <h3 id="auditorias">0</h3>
                        <p>Auditorías Realizadas</p>
                    </div>
                </div>
                <div class="stat-card">
                    <div class="stat-icon purple">
                        <i class="fas fa-bell"></i>
                    </div>
                    <div class="stat-content">
                        <h3 id="incidentesSeguridad">0</h3>
                        <p>Incidentes Seguridad</p>
                    </div>
                </div>
            </div>

            <div class="phase-grid">
                <div class="phase-card">
                    <h3><i class="fas fa-chart-pie"></i> Estado de Controles</h3>
                    <canvas id="chartControles"></canvas>
                </div>
                <div class="phase-card">
                    <h3><i class="fas fa-server"></i> Disponibilidad del Servicio</h3>
                    <canvas id="chartDisponibilidad"></canvas>
                    <div class="uptime-info">
                        <div class="uptime-item">
                            <span>Uptime:</span>
                            <strong id="uptime">0%</strong>
                        </div>
                        <div class="uptime-item">
                            <span>Downtime:</span>
                            <strong id="downtime">0h</strong>
                        </div>
                    </div>
                </div>
            </div>

            <div class="security-alerts" id="securityAlerts"></div>
        </section>

        <!-- CENTRO DE CONTROL -->
        <section id="control" class="content-section">
            <h2 class="section-title">
                <i class="fas fa-sliders-h"></i> Centro de Control
            </h2>

            <div class="control-panel">
                <div class="control-card">
                    <h3><i class="fas fa-power-off"></i> Control de Simulación</h3>
                    <button id="btnToggleSimulation" class="btn-control active">
                        <i class="fas fa-pause"></i> Pausar Simulación
                    </button>
                    <div class="control-info">
                        <div class="info-item">
                            <span>Estado:</span>
                            <strong id="simulationStatus" class="status-active">Activa</strong>
                        </div>
                        <div class="info-item">
                            <span>Tiempo Transcurrido:</span>
                            <strong id="elapsedTime">0:00</strong>
                        </div>
                        <div class="info-item">
                            <span>Actualizaciones:</span>
                            <strong id="updateCount">0</strong>
                        </div>
                    </div>
                </div>

                <div class="control-card">
                    <h3><i class="fas fa-crystal-ball"></i> Predicción de Rendimiento</h3>
                    <div class="prediction-display">
                        <div class="prediction-icon">
                            <i class="fas fa-chart-line"></i>
                        </div>
                        <div class="prediction-text">
                            <h4>Proyección 7 días:</h4>
                            <p id="predictionText">Calculando...</p>
                        </div>
                    </div>
                    <canvas id="chartPrediccion"></canvas>
                </div>
            </div>

            <div class="users-panel">
                <h3><i class="fas fa-users"></i> Usuarios y Roles</h3>
                <table class="data-table">
                    <thead>
                        <tr>
                            <th>Usuario</th>
                            <th>Rol</th>
                            <th>Área</th>
                            <th>Estado</th>
                        </tr>
                    </thead>
                    <tbody id="tablaUsuarios"></tbody>
                </table>
            </div>

            <div class="logs-panel">
                <h3><i class="fas fa-terminal"></i> Registro de Eventos del Sistema</h3>
                <div class="logs-container" id="logsContainer"></div>
            </div>

            <div class="learning-panel">
                <h3><i class="fas fa-graduation-cap"></i> Panel de Aprendizaje</h3>
                <div class="learning-grid">
                    <div class="learning-card">
                        <i class="fas fa-book"></i>
                        <h4>ITIL v4</h4>
                        <p>Framework de gestión de servicios TI enfocado en la creación de valor y mejora continua.</p>
                    </div>
                    <div class="learning-card">
                        <i class="fas fa-certificate"></i>
                        <h4>ISO 20000</h4>
                        <p>Estándar internacional para sistemas de gestión de servicios TI.</p>
                    </div>
                    <div class="learning-card">
                        <i class="fas fa-shield-alt"></i>
                        <h4>ISO 27001</h4>
                        <p>Norma para sistemas de gestión de seguridad de la información.</p>
                    </div>
                    <div class="learning-card">
                        <i class="fas fa-exclamation-triangle"></i>
                        <h4>ISO 31000</h4>
                        <p>Gestión de riesgos - Directrices y principios.</p>
                    </div>
                </div>
            </div>
        </section>

    </main>

    <!-- Notificación flotante -->
    <div id="notification" class="notification"></div>

    <!-- Scripts -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.9.1/chart.min.js"></script>
    <script src="script.js"></script>
</body>
</html>